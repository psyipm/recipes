angular.module("delayed-change",[]),angular.module("delayed-change").directive("delayedChange",["$timeout","$delayed",function(a,b){return{require:"ngModel",scope:{delayedOptions:"=",delayedChange:"@",delay:"=delayedCustom"},link:function(a,c,d,e){var f=function(){a.$parent.$eval(a.delayedChange)},g=a.delayedOptions,h=a.delay||b(f,g);e.$viewChangeListeners.push(function(){h.invoke()})}}}]),angular.module("delayed-change").service("$delayed",["$timeout","$q",function(a,b){var c=function(c,d){var e=this;e.$opts=angular.extend({delay:300,invoked:null,start:null,end:null},d),e.$promise=null,e.loading=!1,e.$func=c,e.invoke=function(){return e.cancel(),e.$promise=a(e.$invoke,e.$opts.delay),angular.isFunction(e.$opts.invoked)&&e.$opts.invoked(),e.loading=!0,e.$promise},e.$invoke=function(){angular.isFunction(e.$opts.start)&&e.$opts.start();var a=e.$func();b.when(a).then(function(){angular.isFunction(e.$opts.end)&&e.$opts.end(),e.loading=!1})},e.cancel=function(){a.cancel(e.$promise),e.$promise=null,e.loading=!1}};return function(a,b){return new c(a,b)}}]);